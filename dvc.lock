download_data:
  cmd: python3 src/data/download.py -tr train.csv -te test.csv -o ./data/raw
  deps:
  - path: src/data/download.py
    md5: fed484009b78ed4a148cea34744e7388
    size: 2834
  params:
    params.yaml:
      competition: digit-recognizer
  outs:
  - path: data/raw/test.csv
    md5: a35759d77c0a3dadb4d4253ff87ec430
    size: 51118296
  - path: data/raw/train.csv
    md5: f3eaeafb90cde88b238ebc8dfd4501c5
    size: 76775041
prepare_images:
  cmd: python3 src/data/prepare_img.py -tr data/raw/train.csv -te data/raw/test.csv
    -o ./data/processed/
  deps:
  - path: data/raw/test.csv
    md5: a35759d77c0a3dadb4d4253ff87ec430
    size: 51118296
  - path: data/raw/train.csv
    md5: f3eaeafb90cde88b238ebc8dfd4501c5
    size: 76775041
  - path: src/data/prepare_img.py
    md5: 1dd8433961c87f7b4514d684cde74a45
    size: 3747
  - path: src/img/transforms.py
    md5: a8f0b212f52e03f7e2858da17b9b440f
    size: 1186
  outs:
  - path: data/processed/test/
    md5: 427349e04b6fe6e1fe32a50f2a018e6c.dir
    size: 9585297
    nfiles: 28000
  - path: data/processed/test_mapfile.csv
    md5: 20b8a4add20451e02de527c8e29fc932
    size: 2312907
  - path: data/processed/test_mean_image.png
    md5: 86db97316378c727b5208218c0bd712b
    size: 551
  - path: data/processed/train/
    md5: 060110092434af9690f2271343df27a1.dir
    size: 14386384
    nfiles: 42000
  - path: data/processed/train_mapfile.csv
    md5: ea488a9e8691af68286bcae690d8139b
    size: 3348907
  - path: data/processed/train_mean_image.png
    md5: ba8cb543b4d754f714656ea4f80fac25
    size: 553
split_train_dev:
  cmd: python3 src/data/split_train_dev.py -tr data/processed/train_mapfile.csv -o
    data/processed/
  deps:
  - path: data/processed/train_mapfile.csv
    md5: ea488a9e8691af68286bcae690d8139b
    size: 3348907
  - path: src/data/split_train_dev.py
    md5: dd5b24202961bb8b12a4bedb6052c871
    size: 3053
  params:
    params.yaml:
      random_seed:
      train_test_split:
        n_split: 10
        shuffle: true
        target_class: label
  outs:
  - path: data/processed/split_train_dev.csv
    md5: d9c8742242b0b4a29ff607bc7a4de7b6
    size: 2718979
